<launch>
  <!-- 
    Parameters are passed as environment variables and you can change their default values below. 
    Example: # paramfile=... robodev=/dev/ttyACM1 laserdev=/dev/ttyACM0 rviz=1 roslaunch ypspur_ros_bridge yamabico.launch
    Example 2 after changing the values below: # roslaunch ypspur_ros_bridge yamabico.launch
    
    paramfile - path to robot's param file.
    robodev - path to robot tty device
    laserdev - path to laser-rangefinder tty device
    rviz - run rviz? [0/1]
  -->

  <node pkg="ypspur_ros_bridge" type="ypspur-coordinator.sh" name="ypspur_coordinator" args="-p $(find fifth_robot_launcher)/ypspur/icart-mini.param -d $(optenv robodev /dev/serial/by-id/usb-T-frog_project_T-frog_Driver-if00)" output="screen" />



  <!-- If ypspur_ros_bridge is launched before ypspur-coordinator initialize, it does not work. Therefore wait for it: -->

  <node pkg="ypspur_ros_bridge" type="wait_and_ypspur_ros_bridge.sh" name="ypspur_ros_bridge" output="screen"/>

   <!-- <node pkg="hokuyo_node" type="hokuyo_node" name="hokuyo_node">
    <param name="port" value="$(optenv laserdev /dev/serial/by-id/usb-Hokuyo_Data_Flex_for_USB_URG-Series_USB_Driver-if00)" />
  </node> -->

  <!-- You can adjust the pose of laser-rangefinder here. Order of values: x y z yaw pitch roll. -->
  <node pkg="tf" type="static_transform_publisher" name="laser_transform" args="$(optenv laserpos 0 0 0 0 0 0) base_link laser 100" />

  <node if="$(optenv rviz 0)" pkg="rviz" type="rviz" name="rviz" args="-d $(find fifth_robot_pkg)/rviz/yamabico.rviz" />
</launch>
